[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
# Watch scrapegoat directory for changes
watchPatterns = ["**"]

[deploy]
# Docker CMD handles startup (python main.py)
# For worker service, override with: python start_redis_worker.py
startCommand = "python main.py"
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[env]
PYTHONUNBUFFERED = "1"
PORT = "8080"
# Chimera: wait 240s for Core results before retrying next provider (people-search can be slow)
CHIMERA_STATION_TIMEOUT = "240"
# Chimera Brain: set in Railway Dashboard. At least one required for Chimera Deep Search.
CHIMERA_BRAIN_HTTP_URL = ""
CHIMERA_BRAIN_ADDRESS = ""

[environments]
[environments.production]
ENVIRONMENT = "production"
PORT = "8080"